<template>
    <require from="../attributes/prismAttribute"></require>
    <require from="../attributes/scrollToElementAttribute"></require>
    <div class="row m-0">
        <div class="container padding-top padding-bottom">
            <h1>Install</h1>

            <p>UniteJS is a node module and is best installed as a global package.</p>

            <pre><code au-prism="nix">npm install -g unitejs-cli / yarn global add unitejs-cli</code></pre>

            <h1>Usage</h1>

            <pre><code au-prism="nix">unite command --argName&lt;0&gt;=argValue&lt;0&gt; ... --argName&lt;n&gt;=argValue&lt;n&gt;</code></pre>
            <p>where command is one of the following:
                <li><a href="#" click.trigger="displayDocumentation('help')" au-scroll-to-element="id: helpContent; y-offset.bind: topOffset">help</a></li>
                <li><a href="#" click.trigger="displayDocumentation('version')" au-scroll-to-element="id: helpContent; y-offset.bind: topOffset">version</a></li>
                <li><a href="#" click.trigger="displayDocumentation('configure')" au-scroll-to-element="id: helpContent; y-offset.bind: topOffset">configure</a></li>
                <li><a href="#" click.trigger="displayDocumentation('buildConfiguration')" au-scroll-to-element="id: helpContent; y-offset.bind: topOffset">buildConfiguration</a></li>
                <li><a href="#" click.trigger="displayDocumentation('clientPackage')" au-scroll-to-element="id: helpContent; y-offset.bind: topOffset">clientPackage</a></li>
                <li><a href="#" click.trigger="displayDocumentation('platform')" au-scroll-to-element="id: helpContent; y-offset.bind: topOffset">platform</a></li>
            </p>

            <p>Argument names are case sensitive but values are case insensitive, argument values with spaces should be enclosed
                in quotes.</p>

            <hr id="helpContent" />

            <div if.bind="commandDisplay === 'intro'">
                <p>Select one of the commands above for more details.</p>
            </div>

            <div if.bind="commandDisplay === 'help'">
                <h2>help</h2>
                <br/>
                <p>Displays the help on the command line.</p>
            </div>

            <div if.bind="commandDisplay === 'version'">
                <h2>version</h2>
                <br/>
                <p>Displays the version of the app and the engine on the command line.</p>
            </div>

            <div if.bind="commandDisplay === 'configure'">
                <h2>configure</h2>
                <br/>
                <p>This command will generate your skeleton application with the options you specify.</p>

                <p>If there is already a unite.json in the outputDirectory then all of the arguments will be read from the file
                    and are optional, you only need specify the ones that you want to change.</p>

                <p>This is also true if you specify the profile argument, you only need override the arguments that you want
                    to.</p>

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Argument</th>
                            <th>Value</th>
                            <th>Used For</th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr>
                            <td>packageName</td>
                            <td>plain text, package.json name rules apply</td>
                            <td>Name to be used for your package<br/>See <a href="https://docs.npmjs.com/files/package.json"
                                    target="_blank" rel="noopener" aria-label="NPMJS Documentation">NPMJS Documentation</a></td>
                        </tr>
                        <tr>
                            <td>title</td>
                            <td>plain text</td>
                            <td>Used on the web index page</td>
                        </tr>
                        <tr>
                            <td>license</td>
                            <td>plain text</td>
                            <td>See <a href="https://spdx.org/licenses/" target="_blank" rel="noopener" aria-label="SPDX">SPDX</a>                                for options</td>
                        </tr>
                        <tr>
                            <td>appFramework</td>
                            <td><a href="#ng">Angular</a>/<a href="#au">Aurelia</a>/<a href="#pa">PlainApp</a>/<a href="#re">React</a></td>
                            <td>The application framework to use</td>
                        </tr>
                        <tr>
                            <td>sourceLanguage</td>
                            <td>JavaScript/TypeScript</td>
                            <td>The language you want to code in</td>
                        </tr>
                        <tr>
                            <td>linter</td>
                            <td>ESLint/TSLint/None</td>
                            <td>The linter</br>None - means no linting</td>
                        </tr>
                        <tr>
                            <td>moduleType</td>
                            <td>AMD/CommonJS/SystemJS</td>
                            <td>The module type you want to use</td>
                        </tr>
                        <tr>
                            <td>bundler</td>
                            <td>Browserify/RequireJS/SystemJSBuilder/Webpack</td>
                            <td>The bundler you want to use</td>
                        </tr>
                        <tr>
                            <td>unitTestRunner</td>
                            <td>Karma/None</td>
                            <td>The unit test runner<br/>None - means no unit testing</td>
                        </tr>
                        <tr>
                            <td>unitTestFramework</td>
                            <td>Jasmine/MochaChai</td>
                            <td>The unit test framework to use</td>
                        </tr>
                        <tr>
                            <td>unitTestEngine</td>
                            <td>PhantomJS/ChromeHeadless</td>
                            <td>The unit test engine to execute tests</td>
                        </tr>
                        <tr>
                            <td>e2eTestRunner</td>
                            <td>Protractor/WebdriverIO/None</td>
                            <td>The e2e test runner</td>
                        </tr>
                        <tr>
                            <td>e2eTestFramework</td>
                            <td>Jasmine/MochaChai</td>
                            <td>The e2e test framework to use</td>
                        </tr>
                        <tr>
                            <td>cssPre</td>
                            <td>Css/Less/Sass/Stylus</td>
                            <td>The css preprocessor to use</td>
                        </tr>
                        <tr>
                            <td>cssPost</td>
                            <td>PostCss/None</td>
                            <td>The css postprocessor to use<br/>None - means no css post processor</td>
                        </tr>
                        <tr>
                            <td>packageManager</td>
                            <td>Npm/Yarn</td>
                            <td>The package manager to use<br/>optional - defaults to Npm if not already set</td>
                        </tr>
                        <tr>
                            <td>profile</td>
                            <td><a au-scroll-to-element="id: configProfiles; y-offset.bind: topOffset" href="#">See Profiles</a></td>
                            <td>The profile to use<br/>optional - defaults to none</td>
                        </tr>
                        <tr>
                            <td>force</td>
                            <td></td>
                            <td>Force overwrite of all existing configuration<br/>optional - defaults to off</td>
                        </tr>
                        <tr>
                            <td>outputDirectory</td>
                            <td>'path'</td>
                            <td>The location that you want the project generated<br/>optional - defaults to current directory</td>
                        </tr>
                    </tbody>
                </table>

                <p>See the <a href="#" route-href="route: examples">Examples</a> page for a more detailed demonstration on how
                    to use the command.</p>

                <p>Or jump to the <a href="#" route-href="route: generator">Generator</a> to generate a command line script
                    ready to run.</p>

                <hr id="configProfiles"/>

                <h2>Profiles</h2>

                <p>The following configuration profiles are currently available, they provide a set of defaults recommended
                    by the application framework providers.</p>

                <ul>
                    <li>AngularJavaScript</li>
                    <li>AngularTypeScript</li>
                    <li>AureliaJavaScript</li>
                    <li>AureliaTypeScript</li>
                    <li>ReactJavaScript</li>
                    <li>ReactTypeScript</li>
                </ul>

                <hr/>

                <h2>Application Frameworks</h2>

                <p>Although we try to support all the different framework and tool combinations this is not always possible.
                </p>

                <h3><a name="ng"></a>Angular</h3>

                <p>Angular does not currently support bundling with RequireJS because there is no longer an AMD build of RXJS
                    in modular form.</p>

                <h3><a name="au"></a>Aurelia</h3>

                <p>Aurelia does not currently support bundling with Browserify or Webpack.</p>

                <h3><a name="pa"></a>Plain App</h3>

                <p>This is a vanilla app with no framework libraries included.</p>

                <h3><a name="re"></a>React</h3>

                <p>Nothing else to mention at the moment.</p>
            </div>

            <div if.bind="commandDisplay === 'buildConfiguration'">
                <h2>buildConfiguration</h2>
                <br/>
                <p>By default you are created dev and prod configurations with sensible defaults.<br/>You can add or remove
                    configurations with this command.</p>

                <h3>--operation=add</h3>
                <br/>
                <p>This will either add a new configuration or update any existing configuration with the same name.</p>

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Argument</th>
                            <th>Value</th>
                            <th>Used For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>operation</td>
                            <td>add</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>configurationName</td>
                            <td>plain text</td>
                            <td>Name of the configuration to modify</td>
                        </tr>
                        <tr>
                            <td>bundle</td>
                            <td></td>
                            <td>Should the final output be bundled<br/>optional - defaults to off</td>
                        </tr>
                        <tr>
                            <td>minify</td>
                            <td></td>
                            <td>Should the final output be minified<br/>optional - defaults to off</td>
                        </tr>
                        <tr>
                            <td>sourcemaps</td>
                            <td></td>
                            <td>Should the final output include sourcemaps<br/>optional - defaults to on</td>
                        </tr>
                        <tr>
                            <td>outputDirectory</td>
                            <td>'path'</td>
                            <td>Location of the unite.json from configure<br/>optional - defaults to current directory</td>
                        </tr>
                    </tbody>
                </table>

                <h3>--operation=remove</h3>
                <br/>
                <p>This will remove an existing configuration.</p>
                <br/>

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Argument</th>
                            <th>Value</th>
                            <th>Used For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>operation</td>
                            <td>remove</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>configurationName</td>
                            <td>plain text</td>
                            <td>Name of the configuration to modify</td>
                        </tr>
                        <tr>
                            <td>outputDirectory</td>
                            <td>'path'</td>
                            <td>Location of the unite.json from configure<br/>optional - defaults to current directory</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Configuration Variables</h3>
                <br/>
                <p>The configuration sections created in unite.json have a variables property which you can modify manually
                    to add your own values that will be include in the build. The values are then available in the window.unite.config
                    namespace at runtime. As this is just JSON your value can be any data that can be JSON serialized. The
                    TypeScript definitions for this object are in this repo <a href="https://github.com/unitejs/types" target="_blank"
                        rel="noopener" aria-label="UniteJS Types">UniteJS Types</a> and can be reference in TypeScript using:</p>

                <pre><code au-prism="typecript">/// &lt;reference types="unitejs-types" /&gt;</code></pre>

                <p>The untite.json section could look something like this </p>
                <pre><code au-prism="json">"buildConfigurations": {
        "myconfiguration": {
            ...
            "variables": {
                "value1": 12345,
                "someFlag: true
            }
        }
    }</code></pre>


                <p>At runtime you can access the variables as follows:
                    <p>
                        <pre><code au-prism="javascript">console.log(window.unite.config["value1"]);
console.log(window.unite.config["someFlag"]);</code></pre>

                        <p>See the <a href="#" route-href="route: examples">Examples</a> page for a more detailed demonstration
                            on how to use the command.</p>
            </div>

            <div if.bind="commandDisplay === 'clientPackage'">
                <h2>clientPackage</h2>
                <br/>
                <p>Perform operations to add or remove client packages. In addition these operations will handle the npm/yarn
                    tasks.
                </p>

                <h3>--operation=add</h3>
                <br/>
                <p>This will add a new clientPackage and modify all the necessary configuration files to include it in your
                    app.
                </p>
                <p>You can use the profile parameter to use one of the in-built clientPackage profiles which will configure
                    the other arguments for you.</p>
                <br/>

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Argument</th>
                            <th>Value</th>
                            <th>Used For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>operation</td>
                            <td>add</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>packageName</td>
                            <td>plain text</td>
                            <td>Name of the package to add</td>
                        </tr>
                        <tr>
                            <td>version</td>
                            <td>1.23.4</td>
                            <td>Fixed version to install<br/>optional - defaults to latest version</td>
                        </tr>
                        <tr>
                            <td>preload</td>
                            <td></td>
                            <td>Should the package be preloaded at app startup<br/>optional - defaults to not preload</td>
                        </tr>
                        <tr>
                            <td>main</td>
                            <td>'path'</td>
                            <td>The path to the main js file in the package<br/>optional - defaults to looking it up<br/>use
                                * to mean all files to be mapped</td>
                        </tr>

                        <tr>
                            <td>mainMinified</td>
                            <td>'path'</td>
                            <td>The path to the minified main js file<br/>optional - defaults to using main</td>
                        </tr>
                        <tr>
                            <td>noScript</td>
                            <td></td>
                            <td>Don't include any scripts from the package<br/>optional - defaults to false</td>
                        </tr>
                        <tr>
                            <td>includeMode</td>
                            <td>app/test/both</td>
                            <td>When should the package be loaded as a module<br/>optional - defaults to both</td>
                        </tr>
                        <tr>
                            <td>scriptIncludeMode</td>
                            <td>none/bundled/notBundled/both</td>
                            <td>When should the package be included as a script<br/>optional - defaults to none</td>
                        </tr>
                        <tr>
                            <td>isPackage</td>
                            <td></td>
                            <td>This is included as a package in module loaders<br/>optional - defaults to not package</td>
                        </tr>
                        <tr>
                            <td>assets</td>
                            <td>semi-colon separated globs</td>
                            <td>These files are packed in platform builds</br>optional - defaults to empty</td>
                        </tr>
                        <tr>
                            <td>testingAdditions</td>
                            <td>key1=value1;key2=value2</td>
                            <td>Additional scripts for testing<br/>optional - defaults to empty</td>
                        </tr>
                        <tr>
                            <td>map</td>
                            <td>key1=value1;key2=value2</td>
                            <td>Additional module config maps</br>optional - defaults to empty</td>
                        </tr>
                        <tr>
                            <td>loaders</td>
                            <td>key1=value1;key2=value2</td>
                            <td>Additional module config loaders<br/>optional - defaults to empty</td>
                        </tr>
                        <tr>
                            <td>packageManager</td>
                            <td>npm/yarn</td>
                            <td>The package manager to use for the add<br/>optional - defaults to npm if not already set</td>
                        </tr>
                        <tr>
                            <td>profile</td>
                            <td><a au-scroll-to-element="id: clientPackageProfiles; y-offset.bind: topOffset" href="#">See Profiles</a></td>
                            <td>The profile to use<br/>optional - defaults to none</td>
                        </tr>
                        <tr>
                            <td>outputDirectory</td>
                            <td>'path'</td>
                            <td>Location of the unite.json from configure<br/>optional - defaults to current directory</td>
                        </tr>
                    </tbody>
                </table>

                <h3>--operation=remove</h3>
                <br/>
                <p>This will remove an existing clientPackage and modify all the necessary configuration files to remove it
                    from your app.</p>

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Argument</th>
                            <th>Value</th>
                            <th>Used For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>operation</td>
                            <td>remove</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>packageName</td>
                            <td>plain text</td>
                            <td>Name of the package to remove</td>
                        </tr>
                        <tr>
                            <td>packageManager</td>
                            <td>npm/yarn</td>
                            <td>The package manager to use for the remove<br/>optional - defaults to npm if not already set</td>
                        </tr>
                        <tr>
                            <td>outputDirectory</td>
                            <td>'path'</td>
                            <td>Location of the unite.json from configure<br/>optional - defaults to current directory</td>
                        </tr>
                    </tbody>
                </table>

                <p>See the <a href="#" route-href="route: examples">Examples</a> page for a more detailed demonstration on how
                    to use the command.</p>

                <hr id="clientPackageProfiles"/>

                <h2>Profiles</h2>

                <p>The following clientPackage profiles are currently available, they provide a set of defaults for the libraries.</p>

                <ul>
                    <li>font-awesome</li>
                    <li>bootstrap4</li>
                    <li>bluebird</li>
                    <li>primsjs</li>
                    <li>rxjs</li>
                </ul>
            </div>

            <div if.bind="commandDisplay === 'platform'">
                <h2>platform</h2>
                <br/>
                <p>Perform operations to add or remove platforms. This provides tasks that allow you to wrap your web application
                    for different platforms.</p>

                <h3>--operation=add</h3>
                <br/>
                <p>This will add a new platform and modify all the necessary configuration files to include it in your app.</p>

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Argument</th>
                            <th>Value</th>
                            <th>Used For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>operation</td>
                            <td>add</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>platformName</td>
                            <td>Web/Electron</td>
                            <td>Name of the platform to add</td>
                        </tr>
                        <tr>
                            <td>outputDirectory</td>
                            <td>'path'</td>
                            <td>Location of the unite.json from configure<br/>optional - defaults to current directory</td>
                        </tr>
                    </tbody>
                </table>

                <h3>--operation=remove</h3>
                <br/>
                <p>This will remove an existing platform and modify all the necessary configuration files to remove it from
                    your app.
                </p>

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Argument</th>
                            <th>Value</th>
                            <th>Used For</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>operation</td>
                            <td>remove</td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>platformName</td>
                            <td>Web/Electron</td>
                            <td>Name of the platform to remove</td>
                        </tr>
                        <tr>
                            <td>outputDirectory</td>
                            <td>'path'</td>
                            <td>Location of the unite.json from configure<br/>optional - defaults to current directory</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Platform Options</h3>

                <p>One you have added a platform you can manually edit your unite.json to specify other options for the platform
                    packaging.
                </p>

                <h4>Web</h4>
                <p>There are currently no other options for this platform.</p>

                <h4>Electron</h4>
                <p>For more information about the options see the <a href="https://github.com/electron-userland/electron-packager#readme"
                        target="_blank" rel="noopener" aria-label="Electron Documentation">Electron Documentation</a></p>

                <p>You can choose to use a specific version of the Electron runtime, if not specified it defaults to the most
                    recent stable version see <a href="https://github.com/electron/electron/releases" target="_blank" rel="noopener"
                        aria-label="Electron Releases">Electron Releases</a>.

                    <p>You can specify one or more of the platform architecture combinations, if this is not specified it defaults
                        to win32/ia32.</p>

                    <p>Any others keys in the Electron settings will be converted into -- params and passed to the packager,
                        this allows for other options like those specific to the darwin/mas or win32 targets <a href="https://github.com/electron-userland/electron-packager/blob/master/usage.txt"
                            target="_blank" rel="noopener" aria-label="Electron Usage">Electron Usage</a> to be used.


                        <pre><code au-prism="json">"platforms": {
    "Electron": {
        "runtimeVersion": "1.7.5",
        "platformArch" : [
            "win32/ia32",
            "win32/x64",
            "darwin/x64",
            "mas/x64",
            "linux/ia32",
            "linux/x64",
            "linux/armv7l"
        ]
        ...
    }
}                
</code></pre>
                        <p>See the <a href="#" route-href="route: examples">Examples</a> page for a more detailed demonstration
                            on how to use the command.</p>
            </div>
        </div>
    </div>
</template>