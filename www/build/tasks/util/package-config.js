/**
 * Gulp utils for package configuration.
 */
const display = require("./display");
const fs = require("fs");
const util = require("util");

async function getPackageJson () {
    try {
        const data = await util.promisify(fs.readFile)("./package.json");
        return JSON.parse(data.toString());
    } catch (err) {
        display.error("Reading package.json", err);
        process.exit(1);
        return undefined;
    }
}

async function setPackageJson (packageJson) {
    try {
        await util.promisify(fs.writeFile)("./package.json", JSON.stringify(packageJson, undefined, "\t"));
    } catch (err) {
        display.error("Writing package.json", err);
        process.exit(1);
    }
}


module.exports = {
    getPackageJson,
    setPackageJson
};

/* Generated by UniteJS */
